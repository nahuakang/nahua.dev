{% import "macros/display_post.html" as display_post %}

{% extends "base.html" %}

{% block content %}

  <h1>{{ section.title }}</h1>

  {% for year, posts in section.pages | group_by(attribute="year") %}

  <ul class="posts">
    <h2 class="posts__year">{{ year }}</h2>
    
    {% for post in posts %}
  
      {{ display_post::display_post(post=post, format='%b %d') }}
  
    {% endfor %}
  </ul>

  {% endfor %}
{% endblock content %}